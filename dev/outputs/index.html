<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Outputs - Wizkers Documentation</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-66729721-2', 'auto');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Wizkers Documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Overview</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../userdoc/">Users</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developers <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../devdoc/">Overview</a>
</li>

                        
                            
<li >
    <a href="../../building/">Building</a>
</li>

                        
                            
<li >
    <a href="../connections/">Connections</a>
</li>

                        
                            
<li >
    <a href="../instruments/">Instruments</a>
</li>

                        
                            
<li class="active">
    <a href="./">Outputs</a>
</li>

                        
                            
<li >
    <a href="../debugging/">Debugging</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Instruments <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../ins/medcom-onyx/">Medcom Onyx</a>
</li>

                        
                            
<li >
    <a href="../../ins/medcom-onyx-ble/">Medcom Blue Onyx</a>
</li>

                        
                            
<li >
    <a href="../../ins/fcoled/">Fried Circuits OLED backpack</a>
</li>

                        
                            
<li >
    <a href="../../ins/sark110/">Sark 110</a>
</li>

                        
                            
<li >
    <a href="../../ins/elecraft-kx3/">Elecraft KX3</a>
</li>

                        
                            
<li >
    <a href="../../ins/elecraft-remote-kx3/">Elecraft Remote KX3</a>
</li>

                        
                            
<li >
    <a href="../../ins/fluke289/">Fluke 287/289 DMMs</a>
</li>

                        
                            
<li >
    <a href="../../ins/simple-serial/">Simple serial terminal</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Outputs <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../out/rest/">REST API</a>
</li>

                        
                            
<li >
    <a href="../../out/safecast/">Safecast</a>
</li>

                        
                            
<li >
    <a href="../../out/rigctld/">rigctld</a>
</li>

                        
                            
<li >
    <a href="../../out/webrtc/">WebRTC</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../instruments/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../debugging/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#outputs">Outputs</a></li>
        
            <li><a href="#general-architecture">General architecture.</a></li>
        
            <li><a href="#output-backend-drivers">Output backend drivers</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="outputs">Outputs</h1>
<p>Outputs are plugins which subscribe to 'data' events coming from connected instruments, and are able to forward those events to other services. They extend the capabilities of Wizkers a great deal by turning it into a middleware between your sensors and any number of backend services.</p>
<p>A typical use case for outputs, is using the <a href="../../out/safecast/">safecast</a> output to connect a Geiger counter to the <a href="http://safecast.org/">Safecast.org</a> service to send regular radiation readings to the Safecast API.</p>
<h2 id="general-architecture">General architecture.</h2>
<p>Due to the fact Wizkers in server mode supports multiple open devices at once and standalone operation, there are slight differences in the way outputs work in server vs Chrome mode, but a lot of similarities too.</p>
<ul>
<li><code>wizkers/server/www/js/app/outputs/&lt;output_name&gt;/logo.png</code> is the output logo.</li>
</ul>
<h3 id="output-definition">Output definition</h3>
<p>Outputs are defined in <code>wizkers/server/www/js/app/outputs/&lt;output_name&gt;/&lt;output_name&gt;.js</code>. This file defines a couple of high level output characteristics which are used by Wizkers to understand how and when it can be used.</p>
<ul>
<li><code>this.wantOnly</code> returns an array of strings that describe the type of data the output will accept. For instance, the <code>safecast.js</code> output will return <code>['radioactivity']</code> so that it does not show up as an available output to devices which don't sent that sort of reading.</li>
<li><code>this.requestAllData</code> is true if the output want Wizkers to send it everything in "pass through" mode rather than use the regular/alarm mechanism</li>
<li><code>this.outputFields</code> is the list of fields required by the output to work. The result can be "variable" in case the output does not have a fixed number of fields or "none" if the output does not support the concept of fields.</li>
</ul>
<h3 id="front-end-output-config">Front-end output config</h3>
<p>Outputs always provide a configuration view, which is located in <code>wizkers/server/www/js/app/outputs/&lt;output_name&gt;/settings.js</code>. The corresponding template, by convention, lives in <code>wizkers/server/www/js/tpl/outputs/</code>.</p>
<p>The front-end view is a Backbone view: refer to the existing outputs to get an idea of how to manage output-specific settings, which are merged with general output settings automatically.</p>
<h2 id="output-backend-drivers">Output backend drivers</h2>
<h3 id="chromecordova-mode">Chrome/Cordova mode</h3>
<p>In this mode, you want to implement <code>wizkers/server/www/js/app/outputs/&lt;output_name&gt;/backend_driver.js</code> . The backend driver needs to implement a couple of public methods which are expected by the output manager:</p>
<ul>
<li><code>setup</code></li>
<li><code>onClose</code></li>
<li><code>resolveMapping</code></li>
<li><code>sendData</code></li>
</ul>
<h3 id="server-mode">Server mode</h3>
<p>In server mode, output backends live in <code>wizkers/server/server/outputs/</code> and implement the same API as in Chrome/Cordova mode. Since the outputs are executed in a NodeJS environment, they often use different low-level APIs which is the reason why they are separate from the 'app mode' output code.</p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
